<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Chart</title>
    
    
    <!-- 1. Add these JavaScript inclusions in the head of your page -->
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
    <script type="text/javascript" src="../../../../../js/highcharts/highcharts.js"></script>
        
    <!-- 2. Add the JavaScript to initialize the chart on document ready -->
    <script type="text/javascript">
    
      function gup(name)
      {
        name = name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");
        var regexS = "[\?&]"+name+"=([^&#]*)";
        var regex = new RegExp( regexS );
        var results = regex.exec( window.location.href );
        if (results == null)
          return "";
        else
          return decodeURIComponent(results[1]);
      }
      
      var chart;
      $(document).ready(function() {
        var colors = Highcharts.getOptions().colors;
        //console.log(colors); // DEBUG
        
        // FACET custom colors
        var facetColors = {
          nonForest:   "#DFDFC8",
          waterBodies: "#004DA8",
          woodlands:   "#A7926E",
          primary:     "#4A8332",
          secondary:   "#91CF6B"
        };
        
        $('#title').text(gup('name'));
        
        chart1 = new Highcharts.Chart({
          chart: {
            renderTo: 'container1',
            defaultSeriesType: 'column'
          },
          title: {
            //text: 'Classification des forÃªts',
            text: 'Forest Classification *',
            x: -20 //center
          },
          subtitle: {
            text: "2010",
            x: -20
          },
          xAxis: {
            categories: ['Non-forest', 'Water bodies', 'Woodlands', 'Primary', 'Secondary'],
            labels: {
              rotation: -45,
              align: 'right',
              style: {
                font: 'normal 10px Verdana, sans-serif'
              }
            }
          },
          yAxis: {
            title: {
              text: 'Area (Km<sup>2</sup>)'
            },
            plotLines: [{
              value: 0,
              width: 1,
              color: '#808080'
            }]
          },
          tooltip: {
            formatter: function() {
              //return '<b>'+ this.series.name +'</b><br/>'+
              return this.x +': '+ this.y.toFixed(0) +' Km<sup>2</sup>';
            }
          },
          legend: {
            enabled: false,
            layout: 'vertical',
            align: 'right',
            verticalAlign: 'top',
            x: -10,
            y: 100,
            borderWidth: 0
          },
          series: [{
            name: 'Forest type',
            //data: [1.7555389838E10/1E6, 3.2045127E7/1E6, 6.139663388E9/1E6, 2.610872733E9/1E6, 1.307210724E9/1E6]
            data: [{
              y: 212648.470195,
              color: facetColors.nonForest
            },{
              y: 17555.389838,
              color: facetColors.waterBodies
            },{
              y: 245297.405067,
              color: facetColors.woodlands
            },{
              y: 6139.663388,
              color: facetColors.primary
            },{
              y: 2610.872733,
              color: facetColors.secondary
            }]
          }],
          credits: {
            enabled: false
          }
        });
        
        chart2 = new Highcharts.Chart({
          chart: {
            renderTo: 'container2',
            defaultSeriesType: 'line'
          },
          title: {
            text: 'Forest Area Change *',
            x: -20 //center
          },
          /*
          subtitle: {
            text: 'Linear',
            x: -20
          },
          */
          xAxis: {
            categories: ['2000', '2005', '2010'],
            labels: {
              rotation: -45,
              align: 'right',
              style: {
              font: 'normal 10px Verdana, sans-serif'
              }
            }
          },
          yAxis: {
            title: {
              text: 'Area (Km<sup>2</sup>)'
            },
            plotLines: [{
              value: 0,
              width: 1,
              color: '#808080'
            }]//,
            //  min: 0
          },
          tooltip: {
            formatter: function() {
              //return '<b>'+ this.series.name +'</b><br/>'+
              return this.x +': '+ this.y.toFixed(0) +' Km<sup>2</sup>';
            }
          },
          legend: {
            enabled: true,
            layout: 'vertical',
            align: 'right',
            verticalAlign: 'top',
            x: -10,
            y: 100,
            borderWidth: 0
          },
          series: [
          {
            name: 'Woodlands',
            data: [0, // 2000
                   -1307.210724, // 2005
                   -3516.189645], // 2010
            color: facetColors.woodlands
          },{
            name: 'Primary',
            data: [0,
                   -35.068534,
                   -88.766835],
            color: facetColors.primary
          },{
            name: 'Secondary',
            data: [0,
                   -66.512405 ,
                   -130.708152],
            color: facetColors.secondary
          },{
            name: 'Total',
            data: [0,
                   -1408.791663 ,
                   -3735.664632],
            color: "#BB6633"
          }

          /*,{
            name: 'Non-forest',
            data: [212648.470195,
                   214057.261858,
                   216384.134827]
          }*/],
          credits: {
            enabled: false
          }
        });
        
        /*
        chart3 = new Highcharts.Chart({
          chart: {
            renderTo: 'container3',
            defaultSeriesType: 'area'
          },
          title: {
            text: 'Forest Loss',
            x: -20 //center
          },
          xAxis: {
            categories: ['2000', '2005', '2010'],
            labels: {
              rotation: -45,
              align: 'right',
              style: {
              font: 'normal 10px Verdana, sans-serif'
              }
            }
          },
          yAxis: {
            title: {
              text: 'Superficie (Km<sup>2</sup>)'
            },
            plotLines: [{
              value: 0,
              width: 1,
              color: '#808080'
            }],
            min: 0
          },
          tooltip: {
            formatter: function() {
              //return '<b>'+ this.series.name +'</b><br/>'+
              return this.series.name +': '+ this.y.toFixed(2) +' Km<sup>2</sup>';
            }
          },
          legend: {
            enabled: true,
            layout: 'vertical',
            align: 'right',
            verticalAlign: 'top',
            x: -10,
            y: 100,
            borderWidth: 0
          },
          series: [
          {
            type: 'pie',
            name: 'Loss 2000-2005',
            size: '45%',
            innerSize: '20%',
            data: [
              { name: 'Woodlands', y: 1307.210724, color: facetColors.woodlands },
              { name: 'Primary', y: 35.068534, color: facetColors.primary },
              { name: 'Secondary', y: 66.512405, color: facetColors.secondary }
            ],
            dataLabels: {
              enabled: false
            }
          },{
            type: 'pie',
            name: 'Loss 2005-2010',
            innerSize: '45%',
            data: [
              { name: 'Woodlands', y: 2208.978921, color: facetColors.woodlands },
              { name: 'Primary', y: 53.698301, color: facetColors.primary },
              { name: 'Secondary', y: 64.195747, color: facetColors.secondary }
            ],
            dataLabels: {
              enabled: true
            }
          }],
          credits: {
            enabled: false
          }
        });
        */

        chart3 = new Highcharts.Chart({
          chart: {
            renderTo: 'container3',
            defaultSeriesType: 'line'
          },
          title: {
            text: 'Intact Forest <sup>**</sup>',
            x: -20 //center
          },
          /*
          subtitle: {
            text: 'Linear',
            x: -20
          },
          */
          xAxis: {
            categories: ['2000', '2005', '2010'],
            labels: {
              rotation: -45,
              align: 'right',
              style: {
              font: 'normal 10px Verdana, sans-serif'
              }
            }
          },
          yAxis: {
            title: {
              text: 'Area (Km<sup>2</sup>)'
            },
            plotLines: [{
              value: 0,
              width: 1,
              color: '#808080'
            }]//,
            //min: 0
          },
          tooltip: {
            formatter: function() {
              //return '<b>'+ this.series.name +'</b><br/>'+
              return this.x +': '+ this.y.toFixed(0) +' Km<sup>2</sup>';
            }
          },
          legend: {
            enabled: false /*,
            layout: 'vertical',
            align: 'right',
            verticalAlign: 'top',
            x: -10,
            y: 100,
            borderWidth: 0
            */
          },
          series: [
          {
            name: 'Intact Forest',
            data: [
                   
                   0.0
                   ,
                   
                   0.0
                   ,
                   
                   0.0
                   
                   
                  ],
            color: facetColors.woodlands
          }

          /*,{
            name: 'Non-forest',
            data: [212648.470195,
                   214057.261858,
                   216384.134827]
          }*/],
          credits: {
            enabled: false
          }
        });

        chart4 = new Highcharts.Chart({
          chart: {
            renderTo: 'container4',
            defaultSeriesType: 'column'
          },
          title: {
            text: 'Forest Total Area *',
            x: -20 //center
          },
          /*
          subtitle: {
            text: 'Stacked',
            x: -20
          },
          */
          xAxis: {
            categories: ['2000', '2005', '2010'],
            labels: {
              rotation: -45,
              align: 'right',
              style: {
              font: 'normal 10px Verdana, sans-serif'
              }
            }
          },
          yAxis: {
            title: {
              text: 'Area (Km<sup>2</sup>)'
            },
            plotLines: [{
              value: 0,
              width: 1,
              color: '#808080'
            }],
            min: 0
            },
            tooltip: {
              formatter: function() {
                //return '<b>'+ this.series.name +'</b><br/>'+
                return this.x +': '+ this.y.toFixed(0) +' Km<sup>2</sup>';
            }
          },
          legend: {
            enabled: true,
            layout: 'vertical',
            align: 'right',
            verticalAlign: 'top',
            x: -10,
            y: 100,
            borderWidth: 0
          },
          series: [
          {
            name: 'Woodlands',
            data: [248813.594712,
                   247506.383988,
                   245297.405067],
            color: facetColors.woodlands
          },{
            name: 'Primary',
            data: [6228.430223,
                   6193.361689,
                   6139.663388],
            color: facetColors.primary
          },{
            name: 'Secondary',
            data: [2741.580885 ,
                   2675.06848 ,
                   2610.872733],
            color: facetColors.secondary
          }/*,{
            name: 'Non-forest',
            data: [208912.805563,
                   210321.597226,
                   212648.470195]
          }*/],
          credits: {
            enabled: false
          },
          plotOptions: {
            column: {
              stacking: 'normal',
              lineColor: '#666666',
              lineWidth: 1,
              marker: {
                lineWidth: 1,
                lineColor: '#666666'
              }
            }
          }
        });
        
      });
        
    </script>
    
    <style type="text/css">
      body
      {
        font: 100% "Trebuchet MS", sans-serif;
      }
      
      #top
      {
        position: relative;
        width: 800px;
      }
      
      #title
      {
        font-size: 120%;
        width: 700px;
        top: 10px;
        text-align: center;
        position: relative;
        margin: auto;
      }
            
      #container1,#container2,#container3,#container4
      {
        /*border: 1px dashed grey;*/
        width: 400px;
        height: 250px;
        margin: 0 auto;
        position: absolute;
      }
      
      #container1
      {
        left: 0;
        top: 50px;
        /*border-right: 1px dashed grey*/
        /*border-bottom: 1px dashed grey*/
      }
      #container2
      {
        left: 400px;
        top: 50px;
        /*border-bottom: 1px dashed grey*/
      }
      #container3
      {
        left: 0;
        top: 290px;
        /*border-right: 1px dashed grey*/
      }
      #container4
      {
        left: 400px;
        top: 290px;
      }
      
      .print {
        /*background:url(http://net.onextrapixel.com/wp-content/themes/onextrapixelv5/images/s.png) 0 -79px no-repeat;*/
        /*background:url(http://unredd.geo-solutions.it/images/Printer.png) no-repeat;*/
        
        display:block;
        width: 32px;
        height: 32px;
        float: left;
        /*padding:5px 0 0px 20px;
        color:#8e8e8e;*/
      }
      
      a img {
        border: none;
      }
      
      #hover_text,#disclaimer
      {
        width: 800px;
        height: 20px;
        font-size: 80%;
        margin: 0 auto;
        position: absolute;
        text-align: center;
      }
      
      #hover_text
      {
        top: 535px;
      }
      
      #disclaimer
      {
        top: 550px;
      }
      
      @media print {
        #print_link
        {
          display: none;
        }
        
        #hover_text
        {
          display: none;
        }
      }
    </style>
    
  </head>
  <body>
    <div id="top">
      <div id="print_link">
        <a href="#print" title="Print this chart" class="print" onClick="window.print();return false;"><img <img src="../../../../../images/Printer.png">></a>
      </div>
      <div id="title"></div>
    </div>
    
    <!-- 3. Add the containers -->
    <div id="container1"></div>
    <div id="container2"></div>
    <div id="container3"></div>
    <div id="container4"></div>
    
    <div id="hover_text">Please place the mouse pointer over the charts to see values</div>
    <div id="disclaimer">The statistics are based on *FACET and **Greenpeace data</div>
        
  </body>
</html>
